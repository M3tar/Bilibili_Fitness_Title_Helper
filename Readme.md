# B 站健身视频标题生成器

## 简介

这是一个用于自动生成 B 站健身视频标题的浏览器扩展程序。支持通过选择日期、博主以及时间段，快速生成符合特定格式的视频标题，并且生成的标题会自动复制到剪贴板。

## 功能特性

* ​**日期选择**​：支持通过日历选择具体日期，也提供 "今天" 和 "昨天" 的快捷选择按钮。
* ​**博主选择**​：目前支持三位博主 "祖嘉泽"、"陈玉轩" 和 "张峰"，使用按钮形式快速选择。
* ​**时间段选择**​：对于博主 "祖嘉泽"，可选择 "早间" 或 "晚间"（默认晚间）；对于博主 "陈玉轩" 和 "张峰"，固定为 "晚间"。
* ​**有氧类型选择**​：当选择张峰博主且日期为周五时，可选择 "有氧双冠" 或 "沉浸有氧"（默认沉浸有氧）。
* ​**标题生成**​：根据用户选择的信息生成特定格式的标题，并自动复制到剪贴板。
* ​**智能UI**​：界面根据选择自动调整，相关选项动态显示隐藏。

## 功能规划 🚀

- [x] 按照固定格式自动生成的B站健身投稿视频标题
- [ ] 健身视频上传后自动识别，提取日期生成标题 + 智能上传封面，一键完成投稿（规划中......）

## 项目结构

plaintext

```plaintext
bilibili-title-generator/
├── images/
│   ├── icon16.svg
│   ├── icon48.svg
│   ├── icon128.svg
├── css/
│   └── popup.css
├── popup.js
├── popup.html
└── manifest.json
```

### 文件说明

* `images/`：存放扩展程序的图标文件。
* `css/`：存放样式文件。
* **popup.js**：实现扩展程序的主要逻辑，包括日历初始化、事件监听、标题生成和复制功能。
* **popup.html**：扩展程序的弹出页面，包含用户交互界面。
* **manifest.json**：扩展程序的配置文件，定义了扩展的基本信息、权限和图标等。

## 安装与使用

### 安装

1. 下载本项目代码到本地。
2. 打开 Chrome/Edge 浏览器，进入扩展程序页面 (chrome://extensions/ 或者  edge://extensions/ )
3. 开启右上角的 “开发者模式”。
4. 点击 “加载已解压的扩展程序”，选择下载的项目文件夹。

### 使用

1. 点击浏览器工具栏中的扩展程序图标，打开弹出页面。
2. 在 “选择日期” 中，通过日历或快捷按钮选择日期。
3. 在 “选择博主” 中，选择相应的博主（祖嘉泽、陈玉轩或张峰）。
4. 根据博主选择，需要在 “时间段” 中选择合适的时间段（仅祖嘉泽需要选择，陈玉轩和张峰默认晚间）。
5. 点击 “生成标题” 按钮，生成的标题会显示在下方，并自动复制到剪贴板。

## 代码说明

### popup.js

* ​**日历功能**​：通过 `initCalendar` 和 `renderCalendar` 函数实现日历的初始化和渲染，支持月份切换和日期选择。
* ​**事件监听**​：对日期输入框、月份切换按钮、生成按钮和快捷按钮等添加事件监听，实现相应的交互功能。
* ​**标题生成**​：根据用户选择的日期、博主和时间段，通过 `generateTitle` 函数生成标题，并调用 `copyToClipboard` 函数将标题复制到剪贴板。
* ​**训练类型映射**​：通过 `getTrainingType` 函数实现多博主的训练类型管理，使用对象映射表替代了分散的条件判断，提高了代码可维护性和扩展性。

### manifest.json

* ​**基本信息**​：定义了扩展程序的名称、版本、描述等基本信息。
* ​**权限**​：请求了 `clipboardWrite` 权限，用于将生成的标题复制到剪贴板。
* ​**图标和弹出页面**​：指定了扩展程序的图标和弹出页面。

## 注意事项

* 本扩展程序支持 Chrome 浏览器。
* 请确保浏览器已开启扩展程序的 “允许访问文件 URL” 选项，以确保扩展程序正常运行。

## 更新日志

### v1.1.0 - 2025-09-28

#### 界面优化
- **博主选择改进**: 将下拉选择框改为按钮形式，提升响应速度和用户体验
- **时间段选择优化**: 祖嘉泽的时间段选择也改为按钮形式，保持界面统一
- **日历导航修复**: 修复日历月份切换按钮对齐问题，现在左右按钮分布在日历两端，布局更美观

#### 功能增强
- **张峰周五特殊逻辑**: 新增张峰博主周五的有氧类型选择功能
  - 当选择张峰且日期为周五时，显示有氧类型选择
  - 提供"有氧双冠"和"沉浸有氧"两个选项
  - 根据用户选择动态生成标题
- **默认值优化**:
  - 祖嘉泽默认时间段改为"晚间"
  - 张峰周五默认有氧类型设为"沉浸有氧"

#### 技术改进
- **CSP合规性**: 修复Content Security Policy违规问题
  - 移除所有内联样式
  - 使用CSS类控制元素显示隐藏
  - 提升扩展程序安全性
- **代码优化**:
  - 重构博主和时间选择逻辑，使用按钮组替代下拉框
  - 优化日期变更时的UI更新逻辑
  - 改进颜色方案，有氧选择按钮使用蓝色主题保持一致性


#### Bug修复
- 修复日历导航按钮位置不当的问题
- 修复CSP内联样式违规错误
- 修复日期选择时有氧选项显示逻辑

## 贡献

如果你有任何改进建议或发现了问题，请在项目的 GitHub 仓库中提交 issue 或 pull request。



